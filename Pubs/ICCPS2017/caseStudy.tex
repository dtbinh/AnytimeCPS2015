\section{Case studies}
\label{sec:case study}

To evaluate our control performance of our method and compare it with other existing approaches, we evaluate it on two dynamic systems for, A) Temperature control of a 4-state, single-zone model of a room, with an occupancy dependent comfort specification (similar to \cite{}??) and B) An Autonomous Centralized Air Traffic Control system for control of two quad-rotors in a constrained airspace with an obstacle, the specification in which corresponds to safely landing the two quad-rotors while following the rules of the airspace. We compare out approach, which consists of gradient descent on the smooth robustness of the specification (via SQP) to A) Simulated Annealing (\cite{}) for robustness maximization and B) Gradient descent on the robustness function (via SQP). 
All methods are implemented in MATLAB, and solving the control problem is preceded by an offline phase which consists of finding the wavelet parameters for the signed distance function approximation for all atomic propositions involving polyhedrons. Note, we solve the control problem as a single shot, finite horizon constrained optimal control problem (see \eqref{eq:general_ctrl}). In general, for a real online implementation, the problem can be solved in a receding horizon manner or in a manner where the state and actions of the past are stored an added as constraints at each time step while the horizon of the optimization shrinks (similar to \cite{}??). The problem of which method is suitable for what kinds of specifications is left for future work.

%\todo[inline]{introduce two numerical examples. Finite horizon control in a single shot, can be applied in a receding/shrinking horizon approach wherever applicable.}


\subsection{HVAC Control of a building for comfort}
\input{caseBldg}


\subsection{Autonomous Air Traffic Controller for quad-rotors}
\input{caseQuad}

\subsection{Discussion}
With a simple 2-state, 2-input numerical example, and two case studies on systems with more complex dynamics, we show the applicability and consistently good performance of our method. As seen in the two case studies, our method outperforms both simulated annealing and gradient descent (via SQP) on the robustness function. Also, while in the first case study, gradient descent does not find a trajectory that satisfies the specification, in the second case study, simulated annealing cannot find trajectories that satisfy the specification from two of the three initial trajectories (used as initial solutions for optimization). Our method on the other hand, successfully finds a trajectory that satisfies the specification, while resulting in the best robustness value achieved across all examples considered. 
Since all implementations were done in MATLAB, the focus was not real-time applicability of the proposed method. For the first case study, where the dynamics are slow, our method should still be applicable ($\sim 20s$) of execution time (compared to $\sim 5 \text{ mins}$ for SA), for the second case study a MATLAB implementation is infeasible due to the very fast dynamics and sampling times involved. We have shown previously in ??? that control of a real quadrotor with the dynamics in \eqref{eq:quad_dyn} is possible on a low computation power platform while solving multiple quadratic programs at even higher sampling rates ($20Hz$). With this in mind, we expect a C/C++ implementation of SQP (and the smooth robustness function) should allow us to implement our method on such a system. Ongoing work focuses on a general interpreter for formulae to generate corresponding smooth robustness functions, as well as their derivatives.