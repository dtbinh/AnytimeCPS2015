
syms delta_phi delta_theta delta_psi P Q R d_v d_h delta_el delta_ail delta_rdr;
x = [delta_phi delta_theta delta_psi P Q R d_v d_h delta_el delta_ail delta_rdr]';

a44 = -1.1477; a46 = -0.091927; a48 = 0.36697; a49 = -0.16544; a52 = -0.018272; a55 = -0.33702; a57 = -0.1094; a64 = 0.11259; a66 = -0.24985; a68 = -0.00333; a69 = 0.048502; 
a75 = 5.1649; a77 = -6.8055;
a81 = -1.3393; a83 = -1.1633; a84 = -7.5556; a86 = -6.7804; a88 = -5.5285; a91 = 1.018; a93 = -1.0342; a94 = -4.6727; a96 = -4.4014; a99 = -6.4675;

b71 = -30.105; b82 = 9.9546;  b92= 4.2838;

Vt = 260;

% original
A_orig = [0 0 0 1.0 0 0.16983 0 0 0; 
          0 0 0 0 1.0 0 0 0 0 ; 
          0 0 0 0 0 1.0143 0 0 0; 
          0 0 0 a44 0 a46 0 a48 a49; 
          0 a52 0 0 a55 0 a57 0 0; 
          0 0 0 a64 0 a66 0 a68 a69; 
          0 0 0 0 a75 0 a77 0 0; 
          a81 0 a83 a84 0 a86 0 a88 0; 
          a91 0 a93 a94 0 a96 0 0 a99];

% with glide stuff
A = [0 0 0 1.0 0 0.16983 0 0 0 0 0; 
     0 0 0 0 1.0 0 0 0 0 0 0 ; 
     0 0 0 0 0 1.0143 0 0 0 0 0; 
     0 0 0 a44 0 a46 0 0 0 a48 a49; 
     0 a52 0 0 a55 0 0 0 a57 0 0; 
     0 0 0 a64 0 a66 0 0 0 a68 a69; 
     0 Vt 0 0 0 0 0 0 0 0 0;
     0 0 Vt 0 0 0 0 0 0 0 0;
     0 0 0 0 a75 0 0 0 a77 0 0; 
     a81 0 a83 a84 0 a86 0 0 0 a88 0; 
     a91 0 a93 a94 0 a96 0 0 0 0 a99];

B_orig = [0 0; 0 0; 0 0; 0 0; 0 0; 0 0; b71 0; 0 b82; 0 b92];
 
% extra zeros for glide
B = [0 0; 0 0; 0 0; 0 0; 0 0; 0 0; 0 0; 0 0; b71 0; 0 b82; 0 b92];

C = [eye(6) zeros(6,5)];

K_before = [-0.0000 -0.2589 -0.0000 -0.0000 -0.1745 -0.0000 -0.0156 -0.0000 -0.1582 -0.0000 -0.0000;
            0.0207 -0.0000 -0.4737 0.7265 -0.0000 -0.5042 -0.0000 -0.0217 0.0000 0.3186 0.3200];

K_after = [0.0000 -1.4162 -0.0001 0.0000 -0.9437 -0.0001 -0.1570 -0.0000 -0.1521 0.0000 -0.0000;
           -0.1313 -0.0000 -1.8460 0.5508 0.0000 -2.9336 -0.0000 -0.0921 -0.0000 0.3127 0.2981];
       
L = [16.9301 -0.0460 0.0844 0.9212 -0.0578 0.0891;
-0.0252 12.5374 -0.8626 -0.0170 0.9634 -0.0481;
0.0349 -0.8516 13.3853 0.0793 0.0139 1.1010;
-0.9352 -0.5823 1.6391 20.4046 -3.2620 5.6179;
0.0397 -0.0765 -0.0788 -1.1621 20.9738 -0.3720;
-0.8829 -0.6246 1.4325 1.4397 -1.7598 21.2326;
-12.3993 -4.6792 21.1685 72.1876 -391.3307 28.6433;
-97.3066 -68.1473 163.0082 272.3444 -248.7508 713.2703;
-144.2297 -105.5620 245.3321 220.5524 -333.9311 1143.7588];


constraint_before = [1/20, 1/20, 1/20, 1/40, 1/40, 1/40, 1/50, 1/50, 1/24, 1/20, 1/29];

