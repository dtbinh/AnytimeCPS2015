\begin{abstract}
 
 
 
 
 Cyber-Physical Systems must withstand a wide range of errors, from bugs in their software to attacks on their physical sensors.
 Given a formal specification of their desired behavior in Metric Temporal Logic (MTL), the robust semantics of the specification provides a notion of \textit{system robustness} that can be calculated directly on the output behavior of the system, without explicit reference to the various sources or models of the errors.
 The robustness of the MTL specification has been used both to verify the system offline (via robustness minimization) and to control the system online (to maximize its robustness over some horizon).
 Unfortunately, the robustness objective function is difficult to work with: it is recursively defined, non-convex and non-differentiable.
 In this paper, we propose smooth approximations of the robustness. 
 Such approximations are differentiable, thus enabling us to use powerful off-the-shelf gradient descent algorithms for optimizing it.
 By using them we can also offer guarantees on the performance of the optimization in terms of convergence to minima.
 We show that the approximation error is bounded to any desired level, and that the approximation can be tuned to the specification.
 We demonstrate the use of the smooth robustness to control two quad-rotors in an autonomous air traffic control scenario, and for temperature control of a building for comfort.
\end{abstract}
