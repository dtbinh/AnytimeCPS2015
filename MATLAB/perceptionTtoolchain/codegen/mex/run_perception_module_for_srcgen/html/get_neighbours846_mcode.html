<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="151,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T329U3">nhbrs</span> = get_neighbours(<span class="var type1" id="S3T2U6">n</span>,<span class="var type1" id="S4T2U7">i</span>,<span class="var type1" id="S5T2U8">j</span>,<span class="var type1" id="S6T2U9">r</span>,<span class="var type1" id="S7T2U10">c</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="151,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% Get n neighbours of pixel(i,j) in an image sized r-by-c</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T329:U7"><span class="message warning" id="M2F846C"><span class="var type1" id="S2T329U13">nhbrs</span> = []</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="151,4" id="srcline4"> 4</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T4:U9"><span class="var type1" id="S3T2U19">n</span>==<span class="mxinfo " id="T2:U11">4</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="151,5" id="srcline5"> 5</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T4:U12"><span class="var type1" id="S5T2U24">j</span>&gt;<span class="mxinfo " id="T2:U14">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="151,6" id="srcline6"> 6</a></span><span class="line">        <span class="mxinfo " id="T329:U15"><span class="var type1" id="S2T329U28">nhbrs</span> = <span class="mxinfo " id="T41:U17">[<span class="var type1" id="S4T2U31">i</span>, <span class="mxinfo " id="T2:U19"><span class="var type1" id="S5T2U33">j</span>-<span class="mxinfo " id="T2:U21">1</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="151,7" id="srcline7"> 7</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,8" id="srcline8"> 8</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T4:U22"><span class="var type1" id="S5T2U38">j</span>&lt;<span class="mxinfo " id="T2:U24"><span class="var type1" id="S7T2U39">c</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="151,9" id="srcline9"> 9</a></span><span class="line">        <span class="mxinfo " id="T329:U26"><span class="var type1" id="S2T329U42">nhbrs</span> = <span class="mxinfo " id="T401:U28">[<span class="var type1" id="S2T329U45">nhbrs</span>; <span class="mxinfo " id="T41:U30"><span class="var type1" id="S4T2U47">i</span>, <span class="mxinfo " id="T2:U32"><span class="var type1" id="S5T2U49">j</span>+<span class="mxinfo " id="T2:U34">1</span></span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="151,10" id="srcline10">10</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,11" id="srcline11">11</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T4:U35"><span class="var type1" id="S4T2U54">i</span> &gt; <span class="mxinfo " id="T2:U37">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="151,12" id="srcline12">12</a></span><span class="line">        <span class="mxinfo " id="T329:U38"><span class="var type1" id="S2T329U58">nhbrs</span> = <span class="mxinfo " id="T402:U40">[<span class="var type1" id="S2T329U61">nhbrs</span>; <span class="mxinfo " id="T41:U42"><span class="mxinfo " id="T2:U43"><span class="var type1" id="S4T2U64">i</span>-<span class="mxinfo " id="T2:U45">1</span></span>, <span class="var type1" id="S5T2U66">j</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="151,13" id="srcline13">13</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,14" id="srcline14">14</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T4:U47"><span class="var type1" id="S4T2U70">i</span> &lt; <span class="mxinfo " id="T2:U49"><span class="var type1" id="S6T2U71">r</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="151,15" id="srcline15">15</a></span><span class="line">        <span class="mxinfo " id="T329:U51"><span class="var type1" id="S2T329U74">nhbrs</span> = <span class="mxinfo " id="T329:U53">[<span class="var type1" id="S2T329U77">nhbrs</span>; <span class="mxinfo " id="T41:U55"><span class="mxinfo " id="T2:U56"><span class="var type1" id="S4T2U80">i</span>+<span class="mxinfo " id="T2:U58">1</span></span>, <span class="var type1" id="S5T2U82">j</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="151,16" id="srcline16">16</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,17" id="srcline17">17</a></span><span class="line"><span class="keyword">elseif</span> <span class="var type1" id="S3T2U85">n</span>== 8</span></span>
<span class="srcline"><span class="lineno"><a href="151,18" id="srcline18">18</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S5T2U91">j</span>==1 &amp;&amp; <span class="var type1" id="S4T2U94">i</span>==1</span></span>
<span class="srcline"><span class="lineno"><a href="151,19" id="srcline19">19</a></span><span class="line">        <span class="var type1" id="S2T329U98">nhbrs</span> = [<span class="var type1" id="S4T2U101">i</span>,<span class="var type1" id="S5T2U103">j</span>+1; <span class="var type1" id="S4T2U107">i</span>+1,<span class="var type1" id="S5T2U109">j</span>; <span class="var type1" id="S4T2U112">i</span>+1, <span class="var type1" id="S5T2U115">j</span>+1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,20" id="srcline20">20</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U120">j</span>==1 &amp;&amp; <span class="var type1" id="S4T2U123">i</span>==<span class="var type1" id="S6T2U124">r</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,21" id="srcline21">21</a></span><span class="line">        <span class="var type1" id="S2T329U127">nhbrs</span> = [<span class="var type1" id="S2T329U130">nhbrs</span>; <span class="var type1" id="S4T2U132">i</span>, <span class="var type1" id="S5T2U134">j</span>+1;<span class="var type1" id="S4T2U138">i</span>-1,<span class="var type1" id="S5T2U140">j</span>; <span class="var type1" id="S4T2U143">i</span>-1,<span class="var type1" id="S5T2U146">j</span>+1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,22" id="srcline22">22</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U150">j</span>==1</span></span>
<span class="srcline"><span class="lineno"><a href="151,23" id="srcline23">23</a></span><span class="line">        <span class="var type1" id="S2T329U154">nhbrs</span> = [<span class="var type1" id="S2T329U157">nhbrs</span>; <span class="var type1" id="S4T2U160">i</span>-1,<span class="var type1" id="S5T2U162">j</span>; <span class="var type1" id="S4T2U165">i</span>-1, <span class="var type1" id="S5T2U168">j</span>+1; <span class="var type1" id="S4T2U171">i</span>, <span class="var type1" id="S5T2U173">j</span>+1; <span class="var type1" id="S4T2U177">i</span>+1,<span class="var type1" id="S5T2U180">j</span>+1; <span class="var type1" id="S4T2U184">i</span>+1,<span class="var type1" id="S5T2U186">j</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="151,24" id="srcline24">24</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U190">j</span>==<span class="var type1" id="S7T2U191">c</span> &amp;&amp; <span class="var type1" id="S4T2U193">i</span>==1</span></span>
<span class="srcline"><span class="lineno"><a href="151,25" id="srcline25">25</a></span><span class="line">        <span class="var type1" id="S2T329U197">nhbrs</span> = [<span class="var type1" id="S2T329U200">nhbrs</span>; <span class="var type1" id="S4T2U202">i</span>, <span class="var type1" id="S5T2U204">j</span>-1; <span class="var type1" id="S4T2U208">i</span>+1,<span class="var type1" id="S5T2U211">j</span>-1; <span class="var type1" id="S4T2U215">i</span>+1,<span class="var type1" id="S5T2U217">j</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="151,26" id="srcline26">26</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U221">j</span>==<span class="var type1" id="S7T2U222">c</span> &amp;&amp; <span class="var type1" id="S4T2U224">i</span>==<span class="var type1" id="S6T2U225">r</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,27" id="srcline27">27</a></span><span class="line">        <span class="var type1" id="S2T329U228">nhbrs</span> = [<span class="var type1" id="S2T329U231">nhbrs</span>; <span class="var type1" id="S4T2U234">i</span>-1,<span class="var type1" id="S5T2U236">j</span>; <span class="var type1" id="S4T2U239">i</span>-1,<span class="var type1" id="S5T2U242">j</span>-1; <span class="var type1" id="S4T2U245">i</span>,<span class="var type1" id="S5T2U247">j</span>-1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,28" id="srcline28">28</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U251">j</span>==<span class="var type1" id="S7T2U252">c</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,29" id="srcline29">29</a></span><span class="line">        <span class="var type1" id="S2T329U255">nhbrs</span> = [<span class="var type1" id="S2T329U258">nhbrs</span>; <span class="var type1" id="S4T2U261">i</span>-1,<span class="var type1" id="S5T2U263">j</span>; <span class="var type1" id="S4T2U266">i</span>-1,<span class="var type1" id="S5T2U269">j</span>-1; <span class="var type1" id="S4T2U272">i</span>,<span class="var type1" id="S5T2U274">j</span>-1; <span class="var type1" id="S4T2U278">i</span>+1, <span class="var type1" id="S5T2U281">j</span>-1; <span class="var type1" id="S4T2U285">i</span>+1,<span class="var type1" id="S5T2U287">j</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="151,30" id="srcline30">30</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U291">j</span>&lt;<span class="var type1" id="S7T2U292">c</span> &amp;&amp; <span class="var type1" id="S4T2U294">i</span>==1</span></span>
<span class="srcline"><span class="lineno"><a href="151,31" id="srcline31">31</a></span><span class="line">        <span class="var type1" id="S2T329U298">nhbrs</span> = [<span class="var type1" id="S2T329U301">nhbrs</span>; <span class="var type1" id="S4T2U303">i</span>,<span class="var type1" id="S5T2U305">j</span>-1; <span class="var type1" id="S4T2U308">i</span>,<span class="var type1" id="S5T2U310">j</span>+1;<span class="var type1" id="S4T2U314">i</span>+1,<span class="var type1" id="S5T2U317">j</span>-1; <span class="var type1" id="S4T2U321">i</span>+1,<span class="var type1" id="S5T2U323">j</span>; <span class="var type1" id="S4T2U326">i</span>+1,<span class="var type1" id="S5T2U329">j</span>+1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,32" id="srcline32">32</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U334">j</span>&lt;<span class="var type1" id="S7T2U335">c</span> &amp;&amp; <span class="var type1" id="S4T2U337">i</span>==<span class="var type1" id="S6T2U338">r</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,33" id="srcline33">33</a></span><span class="line">        <span class="var type1" id="S2T329U341">nhbrs</span> = [<span class="var type1" id="S2T329U344">nhbrs</span>; <span class="var type1" id="S4T2U346">i</span>,<span class="var type1" id="S5T2U348">j</span>-1; <span class="var type1" id="S4T2U351">i</span>,<span class="var type1" id="S5T2U353">j</span>+1; <span class="var type1" id="S4T2U357">i</span>-1,<span class="var type1" id="S5T2U360">j</span>-1; <span class="var type1" id="S4T2U364">i</span>-1,<span class="var type1" id="S5T2U366">j</span>; <span class="var type1" id="S4T2U369">i</span>-1,<span class="var type1" id="S5T2U372">j</span>+1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,34" id="srcline34">34</a></span><span class="line">    <span class="keyword">elseif</span> <span class="var type1" id="S5T2U376">j</span>&lt;<span class="var type1" id="S7T2U377">c</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,35" id="srcline35">35</a></span><span class="line">        <span class="var type1" id="S2T329U380">nhbrs</span> = [<span class="var type1" id="S2T329U383">nhbrs</span>; <span class="var type1" id="S4T2U386">i</span>-1,<span class="var type1" id="S5T2U389">j</span>-1; <span class="var type1" id="S4T2U393">i</span>-1,<span class="var type1" id="S5T2U395">j</span>; <span class="var type1" id="S4T2U398">i</span>-1,<span class="var type1" id="S5T2U401">j</span>+1; <span class="var type1" id="S4T2U404">i</span>,<span class="var type1" id="S5T2U406">j</span>-1; <span class="var type1" id="S4T2U409">i</span>,<span class="var type1" id="S5T2U411">j</span>+1; <span class="var type1" id="S4T2U415">i</span>+1,<span class="var type1" id="S5T2U418">j</span>-1; <span class="var type1" id="S4T2U422">i</span>+1,<span class="var type1" id="S5T2U424">j</span>;<span class="var type1" id="S4T2U427">i</span>+1,<span class="var type1" id="S5T2U430">j</span>+1];</span></span>
<span class="srcline"><span class="lineno"><a href="151,36" id="srcline36">36</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,37" id="srcline37">37</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="151,38" id="srcline38">38</a></span><span class="line">    error(<span class="string">'Only 4 and 8 neighbours supported'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="151,39" id="srcline39">39</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
